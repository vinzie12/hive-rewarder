<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hive-rewarder — @bayanihive Delegator Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Animated Background -->
  <div class="bg-glow bg-glow-1"></div>
  <div class="bg-glow bg-glow-2"></div>

  <!-- Header -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-icon"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        <div>
          <h1>hive-rewarder</h1>
          <p class="subtitle">Delegator dashboard for <a href="https://peakd.com/@bayanihive" target="_blank">@bayanihive</a></p>
        </div>
      </div>
      <div class="header-badge" id="header-status">
        <span class="pulse"></span>
        <span>Loading...</span>
      </div>
    </div>
    <!-- Tab Navigation -->
    <div class="header-tabs">
      <button class="tab-btn tab-btn--active" data-tab="delegators">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        Delegators
      </button>
      <button class="tab-btn" data-tab="chart">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        Chart
      </button>
      <button class="tab-btn" data-tab="sbi">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></svg>
        SBI Log
      </button>
    </div>
  </header>

  <!-- Loading State -->
  <div id="loading" class="loading">
    <div class="loading-card">
      <div class="spinner"></div>
      <p>Fetching blockchain data...</p>
      <p class="loading-sub">Connecting to Hive network</p>
    </div>
  </div>

  <!-- Dashboard Content (hidden until loaded) -->
  <main id="dashboard" class="container" style="display: none;">

    <!-- Stats Row -->
    <div class="stats-row">
      <div class="stat-card stat-card--date">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Payout Date</div>
          <div class="stat-value" id="stat-date">—</div>
        </div>
      </div>
      <div class="stat-card stat-card--delegation">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Total Delegation</div>
          <div class="stat-value" id="stat-delegation">—</div>
        </div>
      </div>
      <div class="stat-card stat-card--curation">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M16 8l-4 4-4-4"/><path d="M12 12v6"/></svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Curation Rewards</div>
          <div class="stat-value" id="stat-curation">—</div>
        </div>
      </div>
      <div class="stat-card stat-card--multiplier">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Multiplier</div>
          <div class="stat-value" id="stat-multiplier">—</div>
        </div>
      </div>
      <div class="stat-card stat-card--delegators">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Delegators</div>
          <div class="stat-value" id="stat-delegators">—</div>
        </div>
      </div>
    </div>

    <!-- Tab Content Panels -->
    <div class="tab-content">
      <!-- Delegators Tab -->
      <div class="tab-panel tab-panel--active" data-panel="delegators">
        <div class="section">
          <div class="section-header">
            <h2>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
              Delegator Rewards
            </h2>
            <div class="search-box">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
              <input type="text" id="search-input" placeholder="Search delegator..." />
            </div>
          </div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Delegator</th>
                  <th>HP Delegated</th>
                  <th>Share</th>
                  <th>Base Reward</th>
                  <th>Adjusted Reward</th>
                  <th>Balance</th>
                  <th>Total Sent</th>
                </tr>
              </thead>
              <tbody id="delegator-tbody"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Chart Tab -->
      <div class="tab-panel" data-panel="chart">
        <div class="section">
          <div class="section-header">
            <h2>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
              Reward Distribution
            </h2>
          </div>
          <div class="chart-selector">
            <div class="chart-dates" id="chart-dates"></div>
          </div>
          <div class="chart-container">
            <div class="bar-chart" id="bar-chart"></div>
          </div>
        </div>
      </div>

      <!-- SBI Log Tab -->
      <div class="tab-panel" data-panel="sbi">
        <div class="section">
          <div class="section-header">
            <h2>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></svg>
              Recent SBI Transactions
            </h2>
          </div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Delegator</th>
                  <th>Amount</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="sbi-tbody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-inner">
      <p>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px;"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        Read-only transparency dashboard &mdash; <a href="https://peakd.com/@bayanihive" target="_blank">@bayanihive</a>
      </p>
      <p class="footer-sub">Updated daily via GitHub Actions &bull; No backend required &bull; <a href="https://github.com/vinzie12/hive-rewarder" target="_blank">Source</a></p>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
